---
custom_js: MathJax
---

# Master Duel 遊戲的卡包機率計算

[![zh-TW](https://img.shields.io/badge/lang-zh--TW-brightgreen)](./zh-TW)

> 本文章初版來自此處：[FCG DISCORD#遊戲王梗圖上傳#琪露諾的完美算術教室](https://ptb.discord.com/channels/850666650641760276/1207446811766300742/1207446816119853076)

關於 Master Duel 的抽包數學時間！

## 太長不看

簡而言之作為建議：

- 抽大包時，如果你想要的 UR 佔比不足整個 UR 卡池的**四分之一**，不要抽。
- 抽小包時，如果你想要的 UR 佔比不足卡池的**二分之一**，不要抽。

## 細節部分

### 前言

經常有人問的一個問題是，某個包要不要抽？是合卡好還是索性抽卡好？某某卡包的卡我已經抽滿了幾張但是還缺幾張要不要繼續抽？

所以容我在這兒發神經來用數學計算一下某個卡包要不要抽。

首先，既然是抽卡包，我們首先明確一下，這個是個經典的概率問題，對於 SR，我相信玩到現在的人應該很少有缺的，所以本次問題以 UR 卡片為主，其次我們的目標是**這一包抽下去我們至少可以以某種方式得到一張想要的 UR**。

這也是和隨便亂抽不同的地方，因為隨便亂抽你只能得到幾張完全不相關的卡片用於拆粉，雖然有概率抽到三張及以上的粉來合，但是其數學期望是小餘得到一張目標卡片的。

### 大卡包的部分

首先根據題目設有：每抽的概率 $p=0.025$，對於所抽大包卡池中共有 $M$ 張 UR 卡片，其中 $N$ 張是我們想要的，設定 $P(\theta)$ 為十抽抽中 $\theta$ 張卡的概率，則有：

\[
P(\theta)=p^{\theta}\cdot(1-p)^{(80-\theta)}\cdot{}C^{80}_{\theta}
\]

假定目標 UR 的價值為 3，隨便的 UR 價值為 1（也就是三張隨便的 UR 能合成一張目標 UR），則對於每一張抽中的 UR，有其價值的期望值為：

\[
E_{UR}=3\cdot\frac{N}{M}+1\cdot\frac{(M-N)}{M}
\]

所以對於抽中 $\theta$ 張卡片的卡片總價值，我們有：

\[
E(\theta)=P(\theta)\cdot\theta\cdot{}E_{UR}
\]

在這兒，根據我們的目標：

> 我們的目標是這一包抽下去我們至少可以以某種方式得到一張想要的UR。

我們實際上在尋找一個合理的 $M$、$N$ 比值 $k$，使得下列公式成立，也即滿足期望：

\[
\sum_{\theta=0}^{80}E(\theta)\geq{}3
\]

所以有：

\[
\frac{M+2N}{M}\sum_{\theta=0}^{80}p^{\theta}\cdot(1-p)^{(80-\theta)}\cdot{}C^{80}_{\theta}\geq{}3
\]

很容易得知：

\[
\frac{1}{4}\geq\frac{N}{M}=k
\]

### 小卡包的部分

其實和上面毫無區別，唯一有區別的是在小卡包中，左側的卡必定歪，也就是除了卡包內的廢 UR，還另有 $1/2$ 的卡片必定為廢卡：所以我們有新的價值期望：

\[
E_{UR}=\frac{1}{2}+\frac{3\cdot\frac{N}{M}+1\cdot\frac{(M-N)}{M}}{2}
\]

可以得到：

\[
\frac{1}{2}\geq\frac{N}{M}=k
\]

所以這就是為啥感覺明明小包「感覺上」很容易抽到想要的卡片，但是「實際上」卻總是浪費你鑽石的原因⋯⋯

### 我有更複雜的情況怎麼辦？

現實中總是還會有各種詭異的情況出現，比如卡包中有比較泛用的料，雖然用不上但也不虧⋯⋯或者是，我比較希望能讓卡包更值，我非要期待價值 4 的東西才行，於是，我只對上面的公式做一些必要簡化：

對於任意大小的卡包有，$M$ 張想要的，其中 $N$ 張想要的價值為 3，$Q$ 張泛用的價值為 $x$，其他的垃圾 UR 價值為 1，有

\[
E'_{UR}=1+\frac{2N+(x-1)Q}{M}
\]

然後為了區分場景，大包的時候沒有歪的，所以：

\[
E_{UR}=E'_{UR}
\]

小包的時候歪一半，所以有：

\[
E_{UR}=\frac{1}{2}+\frac{E'_{UR}}{2}
\]

你想得到的總價值為 $V$ 以上。

\[
E_{UR}\geq{}\frac{V}{2}
\]

從此公式得到 $M$、$N$、$Q$ 之比值即可。
